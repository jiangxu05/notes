# C++ 编程半学期笔记汇总

## 目录
1. [数据类型与精度](#数据类型与精度)
2. [基础数学问题](#基础数学问题)
3. [字符与字符串](#字符与字符串)
4. [判断与逻辑](#判断与逻辑)
5. [复杂计算](#复杂计算)
6. [函数实现](#函数实现)
7. [常见算法实现](#常见算法实现)

## 数据类型与精度

### 类型转换与小数计算
**核心点**：确保除法和计算中的小数精度
```cpp
// 方式一：强制类型转换
double c = (double)(t1-t0)/(h1-h0);
double d = (double)(h1-h0)/(t1-t0);

// 方式二：使用static_cast
c = a*0.01/0.3048;
foot = static_cast<int>(c);
inch = static_cast<int>((c-foot)*12);
```
**记忆点**：
- 整数相除得整数，需要至少一个操作数为小数才能得到小数结果
- 使用 `(double)` 或 `static_cast<double>()` 进行类型转换
- `static_cast` 更安全，建议优先使用

### double与float精度问题
**核心点**：正确设置输出精度和格式
```cpp
// 设置保留两位小数
cout << fixed << setprecision(2) << value << endl;

// 保持精度不足补0
double ability = 100.0;  // 使用小数点确保是小数类型
```
**记忆点**：
- 使用 `fixed` 和 `setprecision` 控制小数点后位数
- 需要包含 `<iomanip>` 头文件
- 定义小数变量时加小数点（如 `100.0` 而非 `100`）

## 基础数学问题

### 完全平方数分解
**核心点**：求两个因数差最小的分解方法
```cpp
int x;
cin >> x;
int a = sqrt(x-1);
int b = (x - 1) / a;
```
**记忆点**：
- 两数乘积为定值时，它们越接近，差值越小
- 使用平方根可以快速找到最接近的因数

### 几何计算
**核心点**：计算几何图形的基本属性
```cpp
// 圆的计算
const double pi = 3.14;
double s = pi * r * r;  // 面积
double l = 2 * pi * r;  // 周长
```
**记忆点**：
- 定义常量使用 `const`
- 几何公式的正确应用

### 数位分解
**核心点**：从整数中提取各个位的数字
```cpp
int n;
int sum = 0, weishu = 0;
while(n != 0){
    sum += n % 10;    // 取最后一位
    n /= 10;          // 去掉最后一位
    weishu++;         // 计数
}
```
**记忆点**：
- 用 `%10` 获取个位数
- 用 `/10` 去掉个位数
- 提取三位数各位：`n/100`(百位)、`n/10%10`(十位)、`n%10`(个位)

### 最大公约数
**核心点**：使用辗转相除法
```cpp
int gcd(int m, int n) {
    while(n != 0) {
        int temp = n;
        n = m % n;  // 辗转相除
        m = temp;
    }
    return m;
}
```
**记忆点**：
- 也可以直接使用 `gcd(a,b)` 函数（需要 `<numeric>` 头文件）
- 理解辗转相除法的原理

## 字符与字符串

### 字符判断
**核心点**：判断字符类型
```cpp
// 判断元音字母
if(c == 'a' || c == 'A' || c == 'e' || c == 'E' || c == 'i' || c == 'I' 
   || c == 'o' || c == 'O' || c == 'u' || c == 'U') 
    cout << "元音字母" << endl;
// 判断数字
else if(c >= '0' && c <= '9') 
    cout << "数字" << endl;
// 判断辅音字母
else if((c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z')) 
    cout << "辅音字母" << endl;
```
**记忆点**：
- 字符使用单引号 `'a'`
- 使用比较运算符可以判断字符范围
- ASCII码: 'A'(65)、'a'(97)、'0'(48)

### 字符串操作
**核心点**：使用string类的方法处理字符串
```cpp
string str;
cin >> str;            // 输入字符串
int n = str.length();  // 获取长度
char ch = str[0];      // 获取第一个字符
```
**记忆点**：
- 使用 `length()` 或 `size()` 获取字符串长度
- 使用索引 `str[i]` 访问单个字符
- vector和数组的区别

## 判断与逻辑

### 三角形判断
**核心点**：应用三角形边长关系
```cpp
if(a + b > c && a + c > b && b + c > a) 
    cout << "yes" << endl;
```
**记忆点**：
- 三角形任意两边之和大于第三边

### 闰年判断
**核心点**：闰年的定义和判断
```cpp
bool isLeapYear(int year) {
    return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
}
```
**记忆点**：
- 能被4整除但不能被100整除，或者能被400整除

### 水仙花数
**核心点**：判断三位数各位数字的立方和是否等于原数
```cpp
bool narcissistic(int number) {
    if(number > 99 && number < 1000) {
        if(number == pow((number/100),3) + pow(number/10%10,3) + pow(number%10,3))
            return true;
        return false;
    }
    return false;
}
```
**记忆点**：
- 正确提取各位数字
- 使用 `pow()` 函数计算次方（需要 `<cmath>` 头文件）

## 复杂计算

### 365天能力值增长计算
**核心点**：复利计算原理
```cpp
double ability = 100.0;
for (int day = 1; day <= n; day++) {
    if (day % 7 >= 1 && day % 7 <= 5) {
        ability *= 1.01;  // 工作日增长1%
    } else {
        ability *= 0.99;  // 周末下降1%
    }
}
```
**记忆点**：
- 复利计算模型
- 使用 `%` 判断周几
- 基础值使用 `double` 类型

### 三天打鱼两天晒网
**核心点**：周期性问题的模运算
```cpp
if (n % 5 == 1 || n % 5 == 2 || n % 5 == 3){
    cout << "Fishing in day" << n << endl;
}
else cout << "Dring in day" << n << endl;
```
**记忆点**：
- 使用模运算处理周期性问题
- 先处理特殊情况，再处理一般情况

### 日期计算
**核心点**：日期的天数计算
```cpp
int dayOfYear = 0;
for (int m = 1; m < month; ++m) {
    dayOfYear += getDaysInMonth(year, m);
}
dayOfYear += day;
```
**记忆点**：
- 不同月份天数不同
- 闰年二月有29天
- 设置输出格式: `setw(2) << setfill('0')`

### 停车费计算
**核心点**：复杂计费规则实现
```cpp
int days = static_cast<int>(b / 24);
double remaining_hours = b - days * 24;
```
**记忆点**：
- 拆分问题（先算整天，再算零散时间）
- 阶梯计费方式的实现
- 设置最高限额

## 函数实现

### 平面距离计算
**核心点**：使用距离公式
```cpp
double getDis(double x1, double y1, double x2, double y2) {
    return pow(pow((y2-y1),2) + pow((x2-x1),2), 0.5);
}
```
**记忆点**：
- 距离公式: sqrt((x2-x1)^2 + (y2-y1)^2)
- 使用 `pow()` 函数计算平方和开方

### 计算π值
**核心点**：使用级数展开近似计算
```cpp
double pai() {
    double ans = 1.0;
    double temp = 1.0;
    double n = 1.0; 
    
    while (temp >= 1e-8) {
        temp *= n / (2 * n + 1); 
        ans += temp;
        n += 1.0; 
    }
    return 2 * ans; 
}
```
**记忆点**：
- 级数展开的数值计算方法
- 使用精度控制 (1e-8) 确定迭代终止条件

### 电费计算
**核心点**：阶梯计费实现
```cpp
double getCost(double x) {
    if(x <= 0) return 0;
    if(x <= 50.0) return 0.53 * x;
    return 0.53 * 50 + 0.58 * (x - 50);  // 分段计算
}
```
**记忆点**：
- 边界条件处理 (x <= 0)
- 阶梯计价的实现方式

## 常见算法实现

### 韩信点兵问题
**核心点**：寻找满足特定模运算条件的数
```cpp
for(int i = a; i <= b; i++) {
    if((i % 3 == 2) && (i % 5 == 3) && (i % 7 == 2)) {
        cout << i;
        cnt++;
    }
}
```
**记忆点**：
- 使用模运算解决带余除法问题
- 中国剩余定理的简单应用

### 最小正方形覆盖
**核心点**：找出能覆盖所有点的最小正方形
```cpp
sort(xzuobiao.begin(), xzuobiao.end());
sort(yzuobiao.begin(), yzuobiao.end());
    
int xchazhi = xzuobiao.back() - xzuobiao.front();
int ychazhi = yzuobiao.back() - yzuobiao.front();
long long ans = pow(max(xchazhi,ychazhi), 2);
```
**记忆点**：
- 排序后找最大差值
- 使用 `front()` 和 `back()` 访问vector首尾元素
- 正方形边长取最大差值

### 幸运数问题
**核心点**：统计一个数的因子
```cpp
while (temp % 4 == 0) {
    cnt4++;
    temp /= 4;
}
```
**记忆点**：
- 循环除法统计因子个数
- 大数使用 `long long` 类型

---

编辑：江旭  
日期：2024年春季学期 